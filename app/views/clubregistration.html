<form id="clubregistration" class="form-horizontal">

  <div data-ng-controller="ClubRegistrationHistoryCtrl">

    <h1>Organization History</h1>

    <div data-ng-hide="regstate.history">
      <div data-horiz-form-el data-label-cols="2" data-control-cols="6">
        <p>Has your organization existed on campus before this year?</p>
        <div data-tag-select data-radio="true" data-tags="history.rereg" data-ng-model="history.hasHistory" data-cols="6"></div>
      </div>
    </div>
    <div data-ng-show="history.hasHistory == 'Yes'">
      <div data-horiz-form-el data-label-cols="2" data-control-cols="6">
        <p data-ng-hide="regstate.history">Please search for your club to continue registration.</p>
        <p data-ng-show="regstate.history">You are re-registering an existing organization named</p>
        <div class="input-group">
          <input type="text" id="oldname" class="form-control" placeholder="Type here to search" ng-model="history.search" disabled="{{regstate.history && 'disabled' || undefined}}" data-typeahead="club.fullname for club in sdrapi.clubSearch($viewValue)">
          <span class="input-group-btn" ng-hide="regstate.history">
            <a href="javascript:void(0)" class="btn btn-primary" ng-click="history.confirm()">Confirm</a>
          </span>
          <span class="input-group-btn" ng-show="regstate.history">
            <a href="javascript:void(0)" class="btn btn-success" ng-click="history.unconfirm()">Undo</a>
        </div>
        <p class="help-block" data-ng-hide="regstate.history">Try searching for the full name as well as any acronyms.</p>
      </div>
    </div>
    <div data-ng-show="history.hasHistory == 'No'">
      <div data-horiz-form-el data-label-cols="2" data-control-cols="6">
        <p>You are registering a new organization.  Please be aware that you should have already met with Club Council before filling out this form.</p>
        <span ng-hide="regstate.history">
          <a href="javascript:void(0)" class="btn btn-primary" ng-click="history.confirm()">Confirm</a>
        </span>
        <span ng-show="regstate.history">
          <a href="javascript:void(0)" class="btn btn-success" ng-click="history.unconfirm()">Undo</a>
      </div>
    </div>

  </div>

  <div ng-show="regstate.history">

    <h1>About Your Organization</h1>

    <div data-horiz-form-el data-label-cols="2" data-control-cols="6" label="Full Name" elementId="fullname" data-help="No acronyms or abbreviations.">
      <input type="text" id="fullname" class="form-control" placeholder="Full Name of Organization" ng-model="registration.fullname">
    </div>

    <div data-horiz-form-el data-label-cols="2" data-control-cols="2" label="Short Name" elementId="shortname" data-help="Many student organizations already have a well-known acronym; please enter it or make one up.">
      <input type="text" id="shortname" class="form-control" placeholder="ABC" ng-model="registration.shortname">
    </div>

    <div data-horiz-form-el data-label-cols="2" data-control-cols="4" label="Address" elementId="address" data-help="Do not use your personal ASU BOX.">
      <input type="text" id="address" class="form-control" placeholder="ASU PO Box or Advisor's Office Address" ng-model="registration.address">
    </div>

    <div data-horiz-form-el data-label-cols="2" data-control-cols="4" label="Bank" elementId="bank" data-help="Leave blank if your organization does not have a bank account.  <em>Do not</em> provide your account number.">
      <input type="text" id="bank" class="form-control" placeholder="Name of Bank" ng-model="registration.bank">
    </div>

    <div data-horiz-form-el data-label-cols="2" data-control-cols="4" label="EIN" elementId="ein" data-help="Leave blank if your organization does not have a bank account.  If your EIN has not changed since last year, do not modify this field.">
      <input type="text" id="ein" class="form-control" placeholder="55-55555555" ng-model="registration.ein">
    </div>

    <h1>Categorization</h1>

    <div class="row">

      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="panel">
          <div class="panel-heading">
            <h4 class="panel-title">SGA Elections</h4>
          </div>
          <div class="panel-body">
            <p class="help-block">Select the <em>one</em> category that best fits your organization for SGA Election purposes.</p>
            <div data-tag-select data-radio="true" data-tags="sdrdata.electionTags" data-ng-model="registration.sgaelection"></div>
          </div>
        </div>
      </div>

      <div class="col-lg-6 col-md-6 col-sm-6">
        <div class="panel">
          <div class="panel-heading">
            <h4 class="panel-title">Club Directory Search</h4>
          </div>
          <div class="panel-body">
            <p class="help-block">Select <em>one or more</em> categories that describe your organization.</p>
            <div data-tag-select data-tags="sdrdata.searchTags" data-cols="3" data-ng-model="registration.searchtags"></div>
          </div>
        </div>
      </div>

    </div>
      
    <h1>Public Profile</h1>
    <p class="help-block">The following information will be displayed publicly when potential members are searching for organizations on the <a href="https://clubconnect.appstate.edu/sdr/clubs" target="_blank">Club Directory</a>.</p>

    <div data-horiz-form-el data-label-cols="2" data-control-cols="10" label="Purpose" elementId="purpose">
      <input type="text" id="purpose" class="form-control" placeholder="Copy directly from your organization's constitution." ng-model="registration.purpose">
    </div>

    <div data-horiz-form-el data-label-cols="2" data-control-cols="10" label="Description" elementId="description">
      <textarea data-ckeditor id="description" class="form-control" ng-model="registration.description" rows="20" contenteditable="true"></textarea>
    </div>

    <div data-horiz-form-el data-label-cols="2" data-control-cols="4" label="Meeting Schedule" elementId="meetings">
      <input type="text" id="meetings" class="form-control" ng-model="registration.meetings" placeholder="Second Thursday of Every Month at 7pm">
    </div>

    <div data-horiz-form-el data-label-cols="2" data-control-cols="4" label="Meeting Location" elementId="location">
      <input type="text" id="location" class="form-control" ng-model="registration.location" placeholder="John Thomas Hall, room 387">
    </div>

    <div data-horiz-form-el data-label-cols="2" data-control-cols="5" label="Website" elementId="website" help="If you need a website, please fill out a <a href='https://ess.appstate.edu/consultation-form' target='blank'>Website Consultation Form</a>.">
      <input type="text" id="website" class="form-control" ng-model="registration.website" placeholder="http://example.com/club">
    </div>

    <h1>People</h1>

    <div class="panel">
      <div class="panel-heading">
        <h4 class="panel-title">Advisor and Officers</h4>
      </div>
      <div class="panel-body">
        <p>Add the current officers of your organization, including advisor.  This list must at least include president and advisor.  Don't forget to add yourself!</p>
        <ul>
          <li>Please ensure that the <strong>email address</strong> is accurate.  Only <tt>@appstate.edu</tt> email addresses will be accepted.</li>
          <li>Select <strong>officer positions</strong> consistent with the wording in your organization's constitution.</li>
          <li><strong>Administrators</strong> have access to manage your club through ClubConnect.  Indicate who should and should not have this access.  <em>Note: The President and Advisor always have access.</em></li>
          <li><strong>Removed</strong> officers will remain shown but stricken through for your convenience.</li>
          <li><strong>If you have not yet held elections for this year</strong>, please enter the current set of officers for your club.  You will be able to change them through ClubConnect when the election is held.</li>
        </ul>

        <table class="table">
          <tr>
            <th>Email</th>
            <th>Advisor / Officer Position</th>
            <th>Administrator</th>
            <th>Actions</th>
          </tr>
          <tr ng-repeat="(key, officer) in registration.officers">
            <td ng-show="officer.removed">Removed: <strike>{{officer.email}}</strike></td>
            <td ng-show="officer.removed"><strike>{{sdrdata.roleLookup[officer.position]}}</strike</td>
            <td ng-show="officer.removed"></td>
            <td ng-show="officer.removed">
              <button type="button" class="btn btn-primary btn-sm" ng-click="sdrapi.undoRemoveOfficer(key)">Undo</button>
            </td>
            <td ng-hide="officer.removed"><input type="text" class="form-control" data-ng-model="officer.email" placeholder="Email Address @appstate.edu"></td>
            <td ng-hide="officer.removed"><select class="form-control" data-ng-model="officer.position" data-ng-options="role.id as role.title for role in sdrdata.roles" placeholder="Officer Position"></select></td>
            <td ng-hide="officer.removed || officer.position == 34 || officer.position == 53">
              <div class="btn-group">
                <button type="button" class="btn" ng-class="officer.admin == 1 && 'btn-primary' || 'btn-default'" ng-click="officer.admin = 1">Yes</button>
                <button type="button" class="btn" ng-class="officer.admin == 0 && 'btn-primary' || 'btn-default'" ng-click="officer.admin = 0">No</button>
              </div>
            </td>
            <td ng-show="!officer.removed && (officer.position == 34 || officer.position == 53)">
              <button type="button" class="btn btn-primary" disabled>Yes</button>
            </td>
            <td ng-hide="officer.removed"><button class="btn btn-danger btn-sm" ng-click="sdrapi.removeOfficer(key)"><i class="icon-minus-sign"></i> Remove</button></td>
          </tr>
          <tr>
            <td colspan="3">
              <button type="button" class="btn btn-success" ng-click="sdrapi.newOfficer()">Add Officer</button>
            </td>
          </tr>
        </table>
      </div>
    </div>

    <h1>Elections</h1>
    <div class="row">
      <div class="col-lg-6 col-md-6">
        <div class="panel">
          <div class="panel-heading">
            <h4 class="panel-title">Election Month</h4>
          </div>
          <div class="panel-body">
            <p class="help-block">Select <em>one or more</em> months in which your organization holds officer elections.</p>
            <div data-tag-select data-tags="sdrdata.monthTags" data-cols="3" data-ng-model="registration.elections"></div>
          </div>
        </div>
      </div>
    </div>

    <h1>Review and Submit</h1>
    <p>This Club Registration Form will be submitted to the CSIL office for approval.</p>
    <p><button type="button" class="btn btn-primary btn-lg">Submit Club Registration Form</button></p>

  </div>
    
</form>
